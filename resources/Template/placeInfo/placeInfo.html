<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>特勤处信息</title>
    <link rel="stylesheet" type="text/css" href="{{ _res_path }}Template/placeInfo/placeInfo.css"/>
</head>
<body>
    <div class="container">
        <!-- 头部 -->
        <div class="header">
            <img class="game-logo" src="{{ _res_path }}imgs/others/logo.png" alt="LOGO" />
            <div class="header-center">
                <div class="title">特勤处信息</div>
                <div class="subtitle">Special Services Division Intel</div>
            </div>
        </div>

        <div class="content">
            {% for place in places %}
            <div class="place-card">
                <!-- 左侧视觉 -->
                <div class="place-left">
                    <div class="place-name">{{ place.displayName }}</div>
                    {% if place.imageUrl %}
                    <div class="image-box">
                        <img class="place-image" src="{{ _res_path }}{{ place.imageUrl }}" alt="{{ place.displayName }}" />
                    </div>
                    {% endif %}
                    <div class="level-display">
                        <span class="level-label">当前等级 / CURRENT LEVEL</span>
                        <span class="level-value">{{ place.level }}</span>
                    </div>
                </div>

                <!-- 右侧数据 -->
                <div class="place-right">
                    <!-- 升级条件 -->
                    {% if place.upgradeInfo %}
                    <div class="section">
                        <div class="section-title">升级条件 / REQUIREMENTS</div>
                        <div class="upgrade-grid">
                            {% if place.upgradeInfo.levelCondition %}
                            <div class="info-tile">
                                <div class="tile-label">解锁等级</div>
                                <div class="tile-value">{{ place.upgradeInfo.levelCondition }}</div>
                            </div>
                            {% endif %}
                            {% if place.upgradeInfo.conditions and place.upgradeInfo.conditions|length > 0 %}
                            {% for condition in place.upgradeInfo.conditions %}
                            <div class="info-tile">
                                <div class="tile-label">条件</div>
                                <div class="tile-value">{{ condition }}</div>
                            </div>
                            {% endfor %}
                            {% elif place.upgradeInfo.condition and not place.upgradeInfo.levelCondition %}
                            <div class="info-tile">
                                <div class="tile-label">条件</div>
                                <div class="tile-value">{{ place.upgradeInfo.condition }}</div>
                            </div>
                            {% endif %}
                            {% if place.upgradeInfo.hafCount > 0 %}
                            <div class="info-tile">
                                <div class="tile-label">所需哈夫币</div>
                                <div class="tile-value highlight">{{ place.upgradeInfo.hafCountFormatted }}</div>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                    {% endif %}

                    <!-- 所需物资 -->
                    {% if place.upgradeRequired and place.upgradeRequired|length > 0 %}
                    <div class="section">
                        <div class="section-title">所需物资 / MATERIALS</div>
                        <div class="materials-list">
                            {% for item in place.upgradeRequired %}
                            <div class="material-item">
                                <div class="mat-img-container">
                                    <img class="mat-img" src="{{ item.imageUrl }}" alt="{{ item.objectName }}" />
                                </div>
                                <div class="mat-name">{{ item.objectName }}</div>
                                <div class="mat-count">×{{ item.count }}</div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                    {% endif %}

                    <!-- 解锁效果 -->
                    {% if place.unlockInfo %}
                    {% if place.unlockInfo.properties and place.unlockInfo.properties|length > 0 %}
                    <div class="section">
                        <div class="section-title">解锁效果 / UNLOCK EFFECTS</div>
                        <div class="effect-row">
                            {% for prop in place.unlockInfo.properties %}
                            <div class="effect-chip">+ {{ prop }}</div>
                            {% endfor %}
                        </div>
                    </div>
                    {% endif %}

                    <!-- 解锁物品 -->
                    {% if place.unlockInfo.props and place.unlockInfo.props|length > 0 %}
                    <div class="section">
                        <div class="section-title">解锁物品库 / ITEM REGISTRY</div>
                        <div class="unlock-grid">
                            {% for prop in place.unlockInfo.props %}
                            <div class="unlock-tag">
                                {% if prop.imageUrl %}
                                <img class="unlock-tag-img" src="{{ prop.imageUrl }}" alt="{{ prop.objectName }}" />
                                {% endif %}
                                <span>{{ prop.objectName }}{% if prop.count %} ×{{ prop.count }}{% endif %}</span>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                    {% endif %}
                    {% endif %}

                    <!-- 详情 -->
                    {% if place.detail %}
                    <div class="section">
                        <div class="section-title">详情 / DETAILS</div>
                        <div class="detail-text">{{ place.detail }}</div>
                    </div>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</body>
</html>
