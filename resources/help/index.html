{% extends "common/common.html" %}

{% block css %}
<link rel="stylesheet" type="text/css" href="help/index.css"/>
<style>
  {{ style | safe }}
</style>
{% endblock %}

{% block main %}

<div class="container">

{% macro render_group(group) %}
    {% set list_len = group.list | length %}
    <div class="cont-box">
      <div class="help-group">{{ group.group }}</div>
      {% if list_len > 0 %}
        <div class="help-table">
            {% for batch in group.list | batch(helpCfg.colCount | default(2)) %}
            <div class="tr">
                {% for help in batch %}
                <div class="td">
                <span class="help-icon" style="{{ help.css | default('') | safe }}">{{ help.icon }}</span>
                <strong class="help-title">{{ help.title }}</strong>
                <span class="help-desc">{{ help.desc }}</span>
                </div>
                {% endfor %}
            </div>
            {% endfor %}
        </div>
      {% endif %}
    </div>
{% endmacro %}

<div class="info-box">
  <div class="head-box type{{ bgType }}">
    <div class="title">{{ helpCfg.title | default("使用帮助") }}</div>
    <div class="label">{{ helpCfg.subTitle | default("DeltaForce-Plugin") }}</div>
  </div>
</div>

{% if twoColumnLayout %}
  
  {% if topFullWidthGroups %}
    {% for group in topFullWidthGroups %}
      {{ render_group(group) }}
    {% endfor %}
  {% endif %}

  <div class="help-content-wrapper">
    <div class="help-column">
      {% for group in leftGroups %}
        {{ render_group(group) }}
      {% endfor %}
    </div>
    <div class="help-column">
      {% for group in rightGroups %}
        {{ render_group(group) }}
      {% endfor %}
    </div>
  </div>

  {% if bottomFullWidthGroups %}
    {% for group in bottomFullWidthGroups %}
      {{ render_group(group) }}
    {% endfor %}
  {% endif %}

{% else %}
  
  {% for group in helpGroups %}
    {{ render_group(group) }}
  {% endfor %}

{% endif %}

</div>

{% endblock %}